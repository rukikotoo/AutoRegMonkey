---
name: autoregmonkey
description: 智能计量经济学分析代理。当用户输入以"autoregmonkey："开头时，LLM会解析经济学计量任务，参考RAG数据库知识，动态调用Python和Stata技能执行任务，最后生成中文报告。
---

# AutoRegMonkey Skill - 智能计量经济学分析代理

基于LLM的智能计量经济学分析系统，能够理解用户任务、查询RAG知识库、动态调用Python和Stata工具，并生成专业的中文分析报告。

## 核心特性

1. **智能任务解析**: LLM理解自然语言描述的计量经济学任务
2. **动态知识检索**: 实时查询Bruce Hansen计量经济学教材RAG数据库
3. **工具链集成**: 根据需要调用Python和Stata技能
4. **自适应工作流**: 根据任务复杂度和数据情况动态调整分析流程
5. **专业报告生成**: 结合计量理论、统计结果和经济解释生成中文报告

## 工作模式

本skill不是固定的脚本，而是一个智能代理框架：
- **LLM作为协调者**: Claude（我）解析任务、制定计划、协调工具调用
- **动态工具调用**: 根据任务需要调用Python数据处理和Stata回归分析
- **实时知识参考**: 每次分析都查询最新的RAG知识库
- **交互式调整**: 可以在分析过程中与用户交互确认模型选择等关键决策

## 处理流程

当用户输入以"autoregmonkey："开头时，Claude会执行以下流程：

### 阶段1: 任务理解与规划
1. **提取任务描述**: 识别"autoregmonkey："后的计量经济学问题
2. **初步解析**: 识别关键变量、数据类型、分析方法、潜在问题
3. **查询RAG知识库**: 检索相关计量经济学理论和方法
4. **制定分析计划**: 基于RAG知识和任务特点设计分析方案

### 阶段2: 数据准备
1. **检查数据文件**: 查看`data/`目录下的可用数据
2. **数据处理决策**:
   - 如果有合适数据：调用Python技能进行清洗和预处理
   - 如果数据不足：调用Python技能生成符合经济学逻辑的模拟数据
3. **变量调整**: 根据任务需求创建或转换变量

### 阶段3: 模型设定与估计
1. **模型选择**: 基于RAG知识和任务特点选择合适模型
2. **Stata分析**: 调用Stata技能执行回归分析
3. **模型诊断**: 进行异方差、多重共线性等检验
4. **模型调整**: 根据诊断结果优化模型设定

### 阶段4: 结果解释与报告
1. **结果解析**: 解读Stata输出的统计结果
2. **经济解释**: 结合计量经济学理论解释实证结果
3. **报告生成**: 生成结构化的中文分析报告
4. **结果保存**: 将报告和关键结果保存到`result/`目录

## 文件组织

- **原始数据**: `data/`目录
- **临时工作文件**: `workspace/`目录（Python脚本、Stata do文件等）
- **最终结果**: `result/`目录（分析报告、回归结果、图表等）

## 使用示例

**用户输入**:
```
autoregmonkey：分析教育对工资的影响，考虑内生性问题和异方差
```

**Claude响应流程**:
1. 识别任务：教育对工资的影响分析
2. 查询RAG：获取工具变量法、异方差稳健标准误等知识
3. 调用Python：检查`data/`目录，处理或生成数据
4. 调用Stata：执行2SLS回归，使用稳健标准误
5. 生成报告：包含模型设定、估计结果、内生性检验、经济解释

**用户输入**:
```
autoregmonkey：研究GDP增长与环境污染的库兹涅茨曲线关系
```

**Claude响应流程**:
1. 识别任务：环境库兹涅茨曲线检验
2. 查询RAG：获取多项式回归、面板门槛模型等知识
3. 调用Python：处理环境经济数据或生成模拟数据
4. 调用Stata：执行二次项回归或门槛回归
5. 生成报告：包含倒U型检验、拐点估计、政策建议

## 关键优势

1. **灵活性**: 不是固定脚本，能够适应各种计量任务
2. **智能性**: LLM理解任务语义，选择合适的分析方法
3. **知识驱动**: 基于权威计量经济学教材的知识库
4. **工具集成**: 无缝集成Python数据处理和Stata计量分析
5. **专业输出**: 生成符合学术规范的中文报告

## 注意事项

1. **数据优先**: 优先使用`data/`目录下的真实数据，仅当缺少数据时生成模拟数据
2. **模型透明**: 解释选择的计量模型及其假设条件
3. **结果审慎**: 结合统计显著性和经济意义解释结果
4. **中文友好**: 所有输出和报告均使用中文